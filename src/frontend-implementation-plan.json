{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix frontend TypeScript build errors blocking deploy and add diagnostic note",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Resolve the frontend compile/type errors causing the deployment/build failure so redeploy can proceed.",
      "acceptanceCriteria": [
        "A clean build completes successfully for both backend and frontend (no compilation/type errors).",
        "A full deploy/redeploy completes successfully (e.g., `dfx deploy` succeeds) without manual intervention beyond standard configuration.",
        "If the failure was due to a runtime trap on canister install/upgrade, the deploy no longer traps and the canister can be installed/upgraded successfully."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/layout/AppShell.tsx",
          "operation": "modify",
          "description": "Fix TypeScript errors by removing reliance on the global `React` namespace (e.g., replace `React.ReactNode` with an imported `ReactNode` type from `react`) so the file compiles under typical TSX settings."
        },
        {
          "path": "frontend/src/components/chat/MessageComposer.tsx",
          "operation": "modify",
          "description": "Fix TypeScript errors caused by `React.*` type references (e.g., `React.KeyboardEvent`) by importing the needed event/type(s) from `react` and updating annotations accordingly to restore a clean frontend build."
        },
        {
          "path": "frontend/src/components/rooms/RoomDeleteWithPasswordDialog.tsx",
          "operation": "modify",
          "description": "Fix TypeScript errors from `React.ReactNode` usage in prop types by importing the appropriate type(s) from `react` and updating the prop typing so the file compiles cleanly."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Add a short developer-facing diagnostic note documenting the root cause of the build failure and the fix applied (no secrets).",
      "acceptanceCriteria": [
        "There is a short, clear explanation of what caused the deployment/build to fail and what was changed to fix it.",
        "The note contains no secrets (no passwords, no private keys, no tokens)."
      ],
      "file_operations": [
        {
          "path": "frontend/DEPLOY_DIAGNOSTICS.md",
          "operation": "create",
          "description": "Add a concise internal note describing the resolved root cause (frontend TypeScript build failing due to `React` namespace types not being in scope) and the exact fix (importing and using `react` types like `ReactNode`/event types instead of `React.*`), explicitly stating that no secrets are included."
        }
      ]
    }
  ]
}