{
  "kind": "build_request",
  "title": "Fix deployment build failure and redeploy",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Identify and fix the cause of the deployment/build failure so the project can be successfully redeployed.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1",
          "msg-2",
          "msg-3"
        ],
        "quotes": [
          "üôè Deployment ran into an issue\n\n Deployment error",
          "redeploy"
        ]
      },
      "acceptanceCriteria": [
        "A clean build completes successfully for both backend and frontend (no compilation/type errors).",
        "A full deploy/redeploy completes successfully (e.g., `dfx deploy` succeeds) without manual intervention beyond standard configuration.",
        "If the failure was due to a runtime trap on canister install/upgrade, the deploy no longer traps and the canister can be installed/upgraded successfully."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Add a minimal, developer-facing deploy/build diagnostic note (in code comments or a short internal doc file) describing the resolved root cause and the exact change made to prevent recurrence.",
      "target": "unknown",
      "source": {
        "messageIds": [
          "msg-2",
          "msg-3"
        ],
        "quotes": [
          "Deployment error",
          "redeploy"
        ]
      },
      "acceptanceCriteria": [
        "There is a short, clear explanation of what caused the deployment/build to fail and what was changed to fix it.",
        "The note contains no secrets (no passwords, no private keys, no tokens)."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under `frontend/src/hooks/useInternetIdentity.ts`, `frontend/src/hooks/useInternetIdentity.tsx`, `frontend/src/hooks/useActor.ts`, `frontend/src/main.tsx`, or anything under `frontend/src/components/ui` (these paths are immutable/read-only).",
    "Keep all Motoko logic within the single main actor (`backend/main.mo`). Only introduce `backend/migration.mo` changes if state migration is actually required for the fix."
  ],
  "nonGoals": [
    "Do not add new product features unrelated to resolving the deployment/build failure.",
    "Do not redesign the UI or change app behavior except as needed to fix the build/deploy."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}